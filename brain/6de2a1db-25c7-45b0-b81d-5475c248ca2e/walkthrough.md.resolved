# üîç Ph√¢n T√≠ch ·ª®ng D·ª•ng SuperVeoTifo

## Th√¥ng Tin T·ªïng Quan

| Thu·ªôc T√≠nh | Gi√° Tr·ªã |
|------------|---------|
| **T√™n ·ª®ng D·ª•ng** | SuperVeo |
| **Phi√™n B·∫£n** | 1.9.3 |
| **Framework** | Tauri (Rust backend + Web frontend) |
| **Installer** | NSIS ([SuperVeo_1.9.3_x64-setup.exe](file:///d:/SuperVeoTifo/SuperVeo_1.9.3_x64-setup.exe)) |
| **Platforms** | Windows x64, macOS (Intel + ARM), Linux |
| **Dev Project** | `veo3_auto.pdb` |

---

## üèóÔ∏è Ki·∫øn Tr√∫c ·ª®ng D·ª•ng

```mermaid
flowchart TB
    subgraph Frontend["Frontend (Web/HTML)"]
        UI[Giao di·ªán ng∆∞·ªùi d√πng]
    end
    
    subgraph Backend["Backend (Rust/Tauri)"]
        Main[SuperVeo.exe]
        NodeHelper[nodehelper.exe]
    end
    
    subgraph Sidecar["Sidecar Scripts"]
        Capture[capture-sidecar.js]
        Node[node.exe]
    end
    
    subgraph External["External Services"]
        GoogleLabs[Google Labs/FX]
        ImagenFX[imagenfx.art API]
        GitHub[GitHub Releases]
    end
    
    UI --> Main
    Main --> NodeHelper
    NodeHelper --> Capture
    Capture --> Node
    Capture --> GoogleLabs
    Main --> ImagenFX
    Main --> GitHub
```

---

## üìÅ C·∫•u Tr√∫c Th∆∞ M·ª•c

| Th∆∞ m·ª•c/File | M√¥ t·∫£ |
|--------------|-------|
| [SuperVeo.exe](file:///d:/SuperVeoTifo/SuperVeo.exe) | ·ª®ng d·ª•ng ch√≠nh (~13MB) - Tauri binary |
| [nodehelper.exe](file:///d:/SuperVeoTifo/nodehelper.exe) | Helper node (~38MB) |
| [realesrgan-n.exe](file:///d:/SuperVeoTifo/realesrgan-n.exe) | Real-ESRGAN upscaler (~6MB) |
| `$PLUGINSDIR/` | NSIS plugins (installer) |
| `binaries/` | DLL dependencies (vcomp140) |
| `resources/models/` | AI upscaling models |
| `resources/scripts/` | Node.js sidecar scripts |

---

## üéØ Ch·ª©c NƒÉng Ch√≠nh

### 1. **VEO3 Video/Image Generation**
- T·ª± ƒë·ªông t·∫°o video/image AI th√¥ng qua Google Labs (labs.google/fx)
- H·ªó tr·ª£ 2 lo·∫°i action:
  - `VIDEO_GENERATION` - T·∫°o video
  - `IMAGE_GENERATION` - T·∫°o ·∫£nh (Flow)

### 2. **reCAPTCHA Enterprise Bypass**
- Site Key: `6LdsFiUsAAAAAIjVDZcuLhaHiDn5nnHVXVRQGeMV`
- URL Target: `https://labs.google/fx`
- S·ª≠ d·ª•ng `puppeteer-real-browser` ƒë·ªÉ bypass bot detection
- T·ª± ƒë·ªông retry v√† fallback khi g·∫∑p l·ªói 403

### 3. **Image Upscaling (RealESRGAN)**
H·ªó tr·ª£ c√°c model:
- `realesrgan-x4plus` (33MB) - Upscale x4 ch·∫•t l∆∞·ª£ng cao
- `realesrgan-x4plus-anime` (9MB) - T·ªëi ∆∞u cho anime
- `realesr-animevideov3-x2/x3/x4` - Upscale video anime

### 4. **Auto Update**
- Host: `github.com/realvux/toolveo`
- Manifest: `public/latest.json`
- Signature-based verification

---

## üîê H·ªá Th·ªëng X√°c Th·ª±c

### Backend API
| Endpoint | M√¥ t·∫£ |
|----------|-------|
| `https://imagenfx.art/api/v2/veo3/get-token` | L·∫•y token x√°c th·ª±c |

### Authentication Headers
```javascript
{
    'X-Device-ID': encryptedDeviceId,
    'X-App-Version': '1.0.0',
    'X-Signature': HMAC-SHA256(payload, 'took_veo3'),
    'X-Timestamp': timestamp,
    'Authorization': 'Bearer {token}'
}
```

### Signature Algorithm
```
payload = `${method}|${url}|${timestamp}|${rawDeviceId}|`
signature = HMAC-SHA256(payload, 'took_veo3')
```

---

## üåê Proxy Support

- HTTP/HTTPS proxy
- SOCKS5/SOCKS5h proxy  
- T·ª± ƒë·ªông test k·∫øt n·ªëi tr∆∞·ªõc khi s·ª≠ d·ª•ng
- Auto-fallback v·ªÅ direct connection khi proxy fail
- Format h·ªó tr·ª£:
  - `http://user:pass@host:port`
  - `socks5://host:port`
  - `host:port:user:pass`

---

## üìã Sidecar Commands

Script `capture-sidecar.js` nh·∫≠n commands qua stdin:

| Command | M√¥ t·∫£ |
|---------|-------|
| `GET_TOKENS <count>` | L·∫•y reCAPTCHA tokens |
| `RESTART_BROWSER` | Kh·ªüi ƒë·ªông l·∫°i browser |
| `RESET_PROXY` | Reset proxy flag |
| `PING` | Health check |
| `SHUTDOWN` | T·∫Øt browser v√† exit |

---

## ‚öôÔ∏è Environment Variables

| Variable | M√¥ t·∫£ |
|----------|-------|
| `VEO3_RAW_DEVICE_ID` | Device ID g·ªëc |
| `VEO3_DEVICE_ID` | Device ID ƒë√£ m√£ h√≥a |
| `VEO3_APP_VERSION` | Phi√™n b·∫£n app |
| `VEO3_AUTH_TOKEN` | Token x√°c th·ª±c |

---

## üîß Dependencies

### Node.js Modules (Sidecar)
- `puppeteer-real-browser` - Anti-detection browser
- `readline` - Command interface
- `socks` - SOCKS proxy support
- `ws` - WebSocket
- `zod` - Schema validation

### Tauri/Rust Backend
- TLS/SSL (bcrypt, crypt32)
- Windows APIs (kernel32, user32, gdi32, shell32)
- DWM (dwmapi) - Desktop Window Manager
- WebSocket (ws2_32)

---

## üé® Auto-Update System

### Update Manifest Structure
```json
{
  "version": "v1.9.3",
  "pub_date": "2026-01-27T...",
  "platforms": {
    "darwin-aarch64": { "signature": "...", "url": "..." },
    "darwin-x86_64": { "signature": "...", "url": "..." },
    "windows-x86_64": { "signature": "...", "url": "..." }
  }
}
```

### GitHub Releases URL Pattern
```
https://github.com/realvux/toolveo/releases/download/v{version}/SuperVeo_{version}_{arch}.{ext}
```

---

## üïµÔ∏è Deep Analysis - Secrets & Internals

### 1. Cryptographic Keys & Tokens

| Lo·∫°i Key | Gi√° Tr·ªã / Chi Ti·∫øt | C√¥ng D·ª•ng |
|----------|-------------------|-----------|
|- **HMAC Request Key**: `took_veo3` (D√πng ƒë·ªÉ k√Ω `X-Signature`).
- **Response Verify Key**: `790b439fcbd64cb13b718f5031a9ce51b7f098c723310785295cff3037d457f6`
- **Secure Salt**: `VEO3_AUTO_2025_SECURE_SALT_XYZ789` (D√πng cho Device ID).
- **Fingerprint Salt**: `DEVICE_FINGERPRINT_SALT_ABC123`

---

### üïµÔ∏è‚Äç‚ôÇÔ∏è Extreme Deep Dive: Advanced Forensics

D∆∞·ªõi ƒë√¢y l√† c√°c chi ti·∫øt k·ªπ thu·∫≠t chuy√™n s√¢u nh·∫•t ƒë∆∞·ª£c tr√≠ch xu·∫•t t·ª´ binary:

#### 1. C∆° ch·∫ø Fingerprint "C·ª©ng"
·ª®ng d·ª•ng kh√¥ng s·ª≠ d·ª•ng ID ng·∫´u nhi√™n m√† th·ª±c hi·ªán thu th·∫≠p:
- **BIOS UUID**: L·∫•y qua l·ªánh `Win32_ComputerSystemProduct`.
- **MachineGuid**: L·∫•y t·ª´ `HKLM\SOFTWARE\Microsoft\Cryptography`.
- **Salting**: C√°c gi√° tr·ªã n√†y ƒë∆∞·ª£c k·∫øt h·ª£p v·ªõi:
  - `DEVICE_FINGERPRINT_SALT_ABC123`
  - `VEO3_AUTO_2025_SECURE_SALT_XYZ789`
- **K·∫øt qu·∫£**: T·∫°o ra `X-Device-ID` duy nh·∫•t cho m·ªói m√°y, kh√¥ng th·ªÉ gi·∫£ m·∫°o b·∫±ng c√°ch ƒë·ªïi ID th√¥ng th∆∞·ªùng.

#### 2. Root of Trust (Ngu·ªìn g·ªëc tin c·∫≠y)
- **Minisign Public Key**: `RW S+HuNjGQUHe8+P6belLGL2WUV2RmrG3LVUQ1EIk3fckUA5NQIcjllVg`.
  - M·ªçi b·∫£n c·∫≠p nh·∫≠t t·∫£i v·ªÅ t·ª´ GitHub ƒë·ªÅu ph·∫£i ƒë∆∞·ª£c k√Ω b·ªüi Private Key t∆∞∆°ng ·ª©ng c·ªßa file n√†y th√¨ ·ª©ng d·ª•ng m·ªõi ch·∫•p nh·∫≠n th·ª±c thi.

#### 3. C·∫•u tr√∫c Sidecar ng·∫ßm
- **nodehelper.exe (38MB)**: Kh√¥ng ch·ªâ l√† helper, ƒë√¢y l√† m·ªôt runtime node/bare ƒë√≥ng g√≥i to√†n b·ªô logic automation ph·ª©c t·∫°p.
- **Puppeteer Bridge**: ·ª®ng d·ª•ng Rust giao ti·∫øp v·ªõi sidecar qua stdin/stdout v·ªõi c√°c message prefix nh∆∞ `[PPT]`.

#### 4. Ph√¢n t√≠ch Auth Token Lifecycle
1. **L·ªõp 1 (License)**: Request t·ªõi `api.cleoo.site/api/users/session` ƒë·ªÉ x√°c th·ª±c license key.
2. **L·ªõp 2 (Vertex Access)**: Sau khi c√≥ session, app g·ªçi `imagenfx.art/api/v2/veo3/vertex/access-token` ƒë·ªÉ l·∫•y token Google Cloud.
3. **L·ªõp 3 (Sidecar)**: Sidecar Puppeteer s·ª≠ d·ª•ng token n√†y c√πng v·ªõi `took_veo3` HMAC ƒë·ªÉ th·ª±c hi·ªán c√°c t√°c v·ª• automation (bypass captcha, generate video).

#### 5. Backdoor/Dev Commands
- `generate_test_license`: L·ªánh n·ªôi b·ªô c√≥ kh·∫£ nƒÉng b·ªè qua b∆∞·ªõc check server c·ªßa Cleoo ƒë·ªÉ c·∫•p quy·ªÅn VIP t·∫°m th·ªùi cho m·ª•c ƒë√≠ch test.

---

### 4. C∆° Ch·∫ø M√£ H√≥a Device ID

·ª®ng d·ª•ng l·∫•y **Raw Device ID** (c√≥ th·ªÉ l√† MAC ho·∫∑c HWID), sau ƒë√≥ s·ª≠ d·ª•ng library `aes` trong Rust k√®m theo m·ªôt salt/key n·ªôi b·ªô ƒë·ªÉ t·∫°o ra `VEO3_DEVICE_ID`. Chu·ªói m√£ h√≥a n√†y sau ƒë√≥ ƒë∆∞·ª£c chuy·ªÉn th√†nh Base64 tr∆∞·ªõc khi g·ª≠i l√™n header `X-Device-ID`.

---

### 5. D·ªØ Li·ªáu L∆∞u Tr·ªØ (AppData)

- **ƒê∆∞·ªùng d·∫´n**: `%LOCALAPPDATA%\SuperVeo`
- **N·ªôi dung**: L∆∞u tr·ªØ logs, cache session, v√† c√°c th√¥ng tin c·∫•u h√¨nh proxy/license.

---

### 6. Obfuscation (L√†m r·ªëi m√£)

Ph√°t hi·ªán chu·ªói k√Ω t·ª± b·ªã l√†m r·ªëi trong binary:
`acm710m +,m',4b,-&'HmhhHbhb 722'6''0b -)',b #2670'b +&'!#0bj '01+16',6b -&'kHbhb...`
Chu·ªói n√†y c√≥ th·ªÉ l√† m·ªôt **Substitution Table** (B·∫£ng thay th·∫ø) ho·∫∑c m·ªôt c·∫•u h√¨nh Payload ƒë√£ ƒë∆∞·ª£c m√£ h√≥a ƒë∆°n gi·∫£n ƒë·ªÉ tr√°nh b·ªã scan chu·ªói.

---

## üìä T·ªïng K·∫øt N√¢ng Cao

SuperVeo kh√¥ng ch·ªâ l√† m·ªôt tool automation ƒë∆°n gi·∫£n m√† l√† m·ªôt h·ªá th·ªëng **Proxy & Bypass** ho√†n ch·ªânh:
1. **Bypass Captcha**: T√≠ch h·ª£p s·∫µn browser engine (`node.exe` + `puppeteer`) ƒë·ªÉ gi·∫£i captcha real-time.
2. **Proxy Management**: T√≠ch h·ª£p nhi·ªÅu d·ªãch v·ª• proxy Vi·ªát Nam (`kiotproxy`, `proxyxoay`).
3. **Security**: S·ª≠ d·ª•ng ch·ªØ k√Ω HMAC hai chi·ªÅu (c·∫£ request v√† response) ƒë·ªÉ ch·ªëng gi·∫£ m·∫°o API.
4. **Cloud Integration**: Ho·∫°t ƒë·ªông nh∆∞ m·ªôt Bridge gi·ªØa m√°y ng∆∞·ªùi d√πng v√† Google Vertex AI.

# S·ª≠a l·ªói "K·∫øt n·ªëi th·∫•t b·∫°i" tr√™n App SuperVeo

Sau khi patch domain th√†nh c√¥ng, server ƒë√£ ch·∫°y tr√™n tr√¨nh duy·ªát nh∆∞ng App v·∫´n b√°o l·ªói. K·∫ø ho·∫°ch n√†y t·∫≠p trung v√†o vi·ªác x·ª≠ l√Ω tri·ªát ƒë·ªÉ c√°c r√†o c·∫£n v·ªÅ SSL, Cache v√† Headers.

## User Review Required

> [!IMPORTANT]
> B·∫°n c·∫ßn ƒë·∫£m b·∫£o ƒë√£ **X√ìA TH∆Ø M·ª§C CACHE** c·ªßa App tr∆∞·ªõc khi th·ª±c hi·ªán b∆∞·ªõc ti·∫øp theo.
> Th∆∞ m·ª•c: `%APPDATA%\com.veo3.auto`

## Proposed Changes

### [Server PHP]
C·∫≠p nh·∫≠t [session.php](file:///D:/SuperVeoTifo/vercel-session-backend/php/api/users/session.php) ƒë·ªÉ log l·∫°i m·ªçi y√™u c·∫ßu (gi√∫p ki·ªÉm tra xem App c√≥ th·ª±c s·ª± g·ªçi t·ªõi host kh√¥ng).

#### [MODIFY] [session.php](file:///D:/SuperVeoTifo/vercel-session-backend/php/api/users/session.php)
- Th√™m logic ghi log v√†o file `api_log.txt`.

### [Local Diagnostics]
T·∫°o script d·ªçn d·∫πp cache v√† ki·ªÉm tra k·∫øt n·ªëi chuy√™n s√¢u.

#### [NEW] [CLEAN_UP_VEO.bat](file:///D:/SuperVeoTifo/NewSuperVeo/CLEAN_UP_VEO.bat)
- T·ª± ƒë·ªông x√≥a th∆∞ m·ª•c AppData v√† c·∫•u h√¨nh c≈© ƒë·ªÉ App nh·∫≠n domain m·ªõi ho√†n to√†n.

#### [NEW] [diagnosis_server.py](file:///D:/SuperVeoTifo/NewSuperVeo/diagnosis_server.py)
- Server local gi·∫£ l·∫≠p `api.hero.io.vn` ƒë·ªÉ b·∫Øt request t·ª´ App v√† xem App g·ª≠i g√¨ (Headers, Body) m√† b·ªã l·ªói.

## Verification Plan

### Automated Tests
1. Ch·∫°y `CLEAN_UP_VEO.bat` ƒë·ªÉ l√†m s·∫°ch m√¥i tr∆∞·ªùng.
2. Ch·∫°y [SuperVeo.exe](file:///d:/SuperVeoTifo/SuperVeo.exe) v√† quan s√°t log tr√™n Server (ho·∫∑c Local Bridge) ƒë·ªÉ xem request c√≥ t·ªõi kh√¥ng.

### Manual Verification
1. Truy c·∫≠p `https://api.hero.io.vn/api/api_log.txt` (n·∫øu c√≥) ƒë·ªÉ xem l·ªãch s·ª≠ truy c·∫≠p c·ªßa Tool.
2. Ki·ªÉm tra l·∫°i üîí SSL tr√™n tr√¨nh duy·ªát: N·∫øu b√°o "Self-signed" ho·∫∑c "Not secure", Tool s·∫Ω kh√¥ng bao gi·ªù k·∫øt n·ªëi ƒë∆∞·ª£c.

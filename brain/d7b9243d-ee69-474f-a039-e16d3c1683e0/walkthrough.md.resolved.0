# Imagen 4 & OAuth Token Integration

## Summary
Integrated Imagen 4 model support with Google Labs OAuth token authentication for higher quality image generation.

## Changes Made

### [geminiImageDirect.ts](file:///c:/Users/hp/Downloads/fashiond-main/src/services/geminiImageDirect.ts)
- Added prioritized model list with Imagen 4 models first
- Added OAuth token storage functions ([getLabsOAuthToken](file:///c:/Users/hp/Downloads/fashiond-main/src/services/geminiImageDirect.ts#43-51), [setLabsOAuthToken](file:///c:/Users/hp/Downloads/fashiond-main/src/services/geminiImageDirect.ts#52-60), [clearLabsOAuthToken](file:///c:/Users/hp/Downloads/fashiond-main/src/services/geminiImageDirect.ts#61-69))
- Added new [callImagenWithOAuth](file:///c:/Users/hp/Downloads/fashiond-main/src/services/geminiImageDirect.ts#212-311) function for OAuth-based image generation

### [ApiKeySettings.tsx](file:///c:/Users/hp/Downloads/fashiond-main/src/components/ApiKeySettings.tsx)
- Added OAuth token state management
- Added new UI card for "Google Labs OAuth Token (Imagen 4)"
- Included instructions for obtaining OAuth token from labs.google

## How to Use

### Getting OAuth Token
1. Go to [Google Labs ImageFX](https://labs.google/fx/tools/flow)
2. Open Developer Tools (F12) â†’ Console
3. Run: `JSON.parse(document.getElementById('__NEXT_DATA__').textContent).props.pageProps.session.access_token`
4. Copy and paste the token into Settings

### Priority Order
1. OAuth token (Imagen 4) - highest quality
2. API keys (Gemini Flash) - fallback with key rotation

## Demo Recording
![OAuth Token UI Demo](file:///C:/Users/hp/.gemini/antigravity/brain/d7b9243d-ee69-474f-a039-e16d3c1683e0/test_oauth_ui_1767511107938.webp)

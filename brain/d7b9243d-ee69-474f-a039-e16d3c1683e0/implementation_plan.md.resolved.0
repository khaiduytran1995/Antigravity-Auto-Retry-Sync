# Implementation Plan - Google API Sandbox Style Image Gen

The goal is to restore image generation functionality by using the working `gemini-2.0-flash-exp-image-generation` model and injecting the user's provided API keys as defaults.

## User Review Required
> [!IMPORTANT]
> I will be hardcoding the provided API keys into the client-side code ([geminiImageDirect.ts](file:///c:/Users/hp/Downloads/fashiond-main/src/services/geminiImageDirect.ts)) as a fallback. This means these keys will be visible in the browser network traffic/sources, which is expected for a "sandbox" style client-side app.

## Proposed Changes

### Service Layer

#### [MODIFY] [geminiImageDirect.ts](file:///c:/Users/hp/Downloads/fashiond-main/src/services/geminiImageDirect.ts)
- Add `DEFAULT_BACKUP_KEYS` constant containing the list of keys provided by the user.
- Update [callGeminiImageDirect](file:///c:/Users/hp/Downloads/fashiond-main/src/services/geminiImageDirect.ts#23-201) to use `DEFAULT_BACKUP_KEYS` if `apiKeys` argument is empty.
- Change default model from `gemini-2.5-flash-image` (broken) to `gemini-2.0-flash-exp-image-generation` (working).
- Update fallback logic to try other experimental models if necessary.

## Verification Plan

### Automated Tests
- Re-run [test_gemini25_keys.py](file:///c:/Users/hp/Downloads/fashiond-main/test_gemini25_keys.py) (optional, already confirmed model works).

### Manual Verification
- User should open the app > Virtual Try On.
- Even without entering keys in settings, the app should use the hardcoded backup keys.
- Image generation should succeed using `gemini-2.0-flash-exp-image-generation`.

# Walkthrough: Deep Analysis of Kinx Auto

TÃ´i Ä‘Ã£ tiáº¿n hÃ nh phÃ¢n tÃ­ch sÃ¢u "táº­n gá»‘c rá»…" cá»§a á»©ng dá»¥ng **Kinx Auto** (cÃ²n gá»i lÃ  **Veo Auto**). DÆ°á»›i Ä‘Ã¢y lÃ  bÃ¡o cÃ¡o chi tiáº¿t vá» cÆ¡ cháº¿ hoáº¡t Ä‘á»™ng, cÃ´ng nghá»‡ vÃ  cÃ¡c thÃ nh pháº§n cá»‘t lÃµi cá»§a cÃ´ng cá»¥ nÃ y.

## ğŸŒŸ Tá»•ng quan vá» á»¨ng dá»¥ng
**Kinx Auto** lÃ  má»™t giáº£i phÃ¡p tá»± Ä‘á»™ng hÃ³a video dá»±a trÃªn AI toÃ n diá»‡n, Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn ná»n táº£ng **Electron**. Má»¥c tiÃªu chÃ­nh cá»§a nÃ³ lÃ  táº¡o video, chá»‰nh sá»­a vÃ  tá»± Ä‘á»™ng hÃ³a cÃ¡c tÃ¡c vá»¥ trÃ¬nh duyá»‡t sá»­ dá»¥ng mÃ´ hÃ¬nh trÃ­ tuá»‡ nhÃ¢n táº¡o cá»§a Google (Gemini).

## ğŸ› ï¸ Ná»n táº£ng CÃ´ng nghá»‡ (Stack)
- **Frontend**: React.js (v19.1.1) - Giao diá»‡n hiá»‡n Ä‘áº¡i, pháº£n há»“i nhanh.
- **Backend (Main Process)**: Node.js / Electron - Xá»­ lÃ½ logic náº·ng vÃ  tÆ°Æ¡ng tÃ¡c há»‡ thá»‘ng.
- **AI Integration**: `@google/generative-ai` - Sá»­ dá»¥ng cÃ¡c mÃ´ hÃ¬nh Gemini Ä‘á»ƒ táº¡o ná»™i dung (hÃ¬nh áº£nh, video).
- **TrÃ¬nh duyá»‡t Tá»± Ä‘á»™ng**: `puppeteer` & `puppeteer-extra-plugin-stealth` - Giáº£ láº­p ngÆ°á»i dÃ¹ng tháº­t Ä‘á»ƒ vÆ°á»£t qua cÃ¡c cÆ¡ cháº¿ chá»‘ng bot.
- **Xá»­ lÃ½ Video**: `fluent-ffmpeg` & `ffmpeg` - CÃ´ng cá»¥ máº¡nh máº½ Ä‘á»ƒ cáº¯t, ghÃ©p, trÃ­ch xuáº¥t khung hÃ¬nh vÃ  upscale video.
- **Giáº£i mÃ£ Captcha**: TÃ­ch há»£p dá»‹ch vá»¥ **OMO Captcha** Ä‘á»ƒ tá»± Ä‘á»™ng giáº£i quyáº¿t cÃ¡c thá»­ thÃ¡ch bot.

## ğŸ” PhÃ¢n tÃ­ch cÃ¡c TÃ­nh nÄƒng Cá»‘t lÃµi

### 1. Há»‡ thá»‘ng AI Video Generation (Gemini)
á»¨ng dá»¥ng tÃ­ch há»£p sÃ¢u vá»›i Gemini API Ä‘á»ƒ:
- Táº¡o video tá»« mÃ´ táº£ (Prompts).
- Táº¡o hÃ¬nh áº£nh AI.
- Quáº£n lÃ½ API Keys trá»±c tiáº¿p trÃªn á»©ng dá»¥ng.
- CÆ¡ cháº¿ "Polling" Ä‘á»ƒ theo dÃµi tráº¡ng thÃ¡i táº¡o video tá»« cloud cá»§a Google.

### 2. Video Processing Engine
Dá»±a trÃªn FFmpeg, cÃ´ng cá»¥ nÃ y cho phÃ©p:
- **Táº¡o video tá»« khung hÃ¬nh (Frames)**: GhÃ©p cÃ¡c hÃ¬nh áº£nh Ä‘Æ¡n láº» thÃ nh video hoÃ n chá»‰nh.
- **Merge/Cut Video**: GhÃ©p nhiá»u video hoáº·c cáº¯t nhá» video theo yÃªu cáº§u.
- **Extract Frames**: TrÃ­ch xuáº¥t áº£nh tá»« video Ä‘á»ƒ xá»­ lÃ½ hoáº·c táº¡o ná»™i dung má»›i.
- **Upscale**: NÃ¢ng cao cháº¥t lÆ°á»£ng video.

### 3. Browser Automation
Sá»­ dá»¥ng Puppeteer vá»›i plugin Stealth, á»©ng dá»¥ng cÃ³ kháº£ nÄƒng:
- Tá»± Ä‘á»™ng Ä‘Äƒng nháº­p, tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c trang web (cÃ³ thá»ƒ lÃ  social media hoáº·c cÃ¡c ná»n táº£ng video).
- Quáº£n lÃ½ Cookie Ä‘á»ƒ duy trÃ¬ phiÃªn Ä‘Äƒng nháº­p.
- Ghi láº¡i log trÃ¬nh duyá»‡t Ä‘á»ƒ debug.

### 4. Captcha Solving
á»¨ng dá»¥ng cÃ³ module quáº£n lÃ½ captcha máº¡nh máº½:
- Tá»± Ä‘á»™ng phÃ¡t hiá»‡n vÃ  gá»­i captcha Ä‘áº¿n dá»‹ch vá»¥ OMO.
- API Key Ä‘Æ°á»£c lÆ°u trá»¯ táº¡i [omocaptcha_key.txt](file:///d:/15012026kinx-auto/omocaptcha_key.txt).

## ğŸŒ Chi tiáº¿t Backend & Endpoints
Qua phÃ¢n tÃ­ch mÃ£ nguá»“n Ä‘Ã£ giáº£i mÃ£ má»™t pháº§n, tÃ´i xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c cÃ¡c há»‡ thá»‘ng backend chÃ­nh:

1. **Há»‡ thá»‘ng Quáº£n lÃ½ TÃ i khoáº£n & License**:
   - **Base URL (`Ls`)**: á»¨ng dá»¥ng káº¿t ná»‘i tá»›i má»™t mÃ¡y chá»§ riÃªng (cÃ³ thá»ƒ lÃ  `veosuite.com` hoáº·c server riÃªng cá»§a KinX-ai) thÃ´ng qua cÃ¡c endpoint `.php` (vÃ­ dá»¥: `auth.php`, `login.php`).
   - **CÆ¡ cháº¿**: Sá»­ dá»¥ng `authToken` Ä‘Æ°á»£c lÆ°u trong `localStorage` Ä‘á»ƒ duy trÃ¬ phiÃªn lÃ m viá»‡c. Khi login, server tráº£ vá» thÃ´ng tin `user` vÃ  tráº¡ng thÃ¡i `subscription`.

2. **Há»‡ thá»‘ng AI & Content**:
   - **Google Gemini API**: Trá»±c tiáº¿p sá»­ dá»¥ng SDK cá»§a Google Ä‘á»ƒ táº¡o ná»™i dung.
   - **TTS Engine (`kltts`)**: Sá»­ dá»¥ng cÃ¡c máº«u giá»ng nÃ³i tÃ¹y chá»‰nh (Custom Voice Models) cho thá»‹ trÆ°á»ng Viá»‡t Nam (nhÆ° "Má»¹ NhÃ¢n", "ÄÄƒng Khoa").

3. **Há»‡ thá»‘ng Cáº­p nháº­t**:
   - TÃ­ch há»£p GitHub API (`KinX-ai/H2Book`) Ä‘á»ƒ kiá»ƒm tra phiÃªn báº£n má»›i nháº¥t vÃ  táº£i báº£n cáº­p nháº­t.

## ğŸ”‘ Há»‡ thá»‘ng Check License (Báº£o máº­t)
Há»‡ thá»‘ng báº£n quyá»n cá»§a Kinx Auto hoáº¡t Ä‘á»™ng nhÆ° sau:
- **XÃ¡c thá»±c**: Khi á»©ng dá»¥ng khá»Ÿi Ä‘á»™ng, nÃ³ kiá»ƒm tra `authToken` hiá»‡n cÃ³. Náº¿u há»£p lá»‡, nÃ³ sáº½ `refreshCurrentUser` Ä‘á»ƒ láº¥y tráº¡ng thÃ¡i gÃ³i cÆ°á»›c (Basic/Pro/VIP).
- **Hardened Code**: MÃ£ nguá»“n Ä‘Æ°á»£c obfuscate cá»±c máº¡nh (string array obfuscation + variable renaming) Ä‘á»ƒ ngÄƒn cháº·n viá»‡c sá»­a Ä‘á»•i logic kiá»ƒm tra báº£n quyá»n cá»¥c bá»™.
- **Device Locking**: CÃ³ dáº¥u váº¿t cá»§a viá»‡c kiá»ƒm tra ID mÃ¡y (Machine ID) Ä‘á»ƒ Ä‘áº£m báº£o má»™t license chá»‰ cháº¡y trÃªn sá»‘ lÆ°á»£ng mÃ¡y nháº¥t Ä‘á»‹nh.

## âš™ï¸ CÆ¡ cháº¿ Váº­n hÃ nh
Quy trÃ¬nh hoáº¡t Ä‘á»™ng "dÆ°á»›i náº¯p mÃ¡y" (Under the hood):
1. **Khá»Ÿi táº¡o**: Electron Main Process quáº£n lÃ½ cÃ¡c luá»“ng xá»­ lÃ½ video (FFmpeg) vÃ  cÃ¡c instance trÃ¬nh duyá»‡t áº©n (Puppeteer).
2. **Xá»­ lÃ½ ná»™i dung**: 
   - Script/Prompt -> Gemini -> Text/Image Metadata.
   - Text -> TTS Engine -> Audio files (.mp3).
3. **Dá»±ng Video**: 
   - FFmpeg nháº­n khung hÃ¬nh (Frames) vÃ  Audio Ä‘á»ƒ ghÃ©p thÃ nh video hoÃ n chá»‰nh theo cÃ¡c thÃ´ng sá»‘ (FPS, Bitrate, Resolution).
   - CÃ³ cÆ¡ há»‡ thá»‘ng `Automation State` Ä‘á»ƒ quáº£n lÃ½ cÃ¡c tÃ¡c vá»¥ láº·p Ä‘i láº·p láº¡i.
4. **Tá»± Ä‘á»™ng hÃ³a TrÃ¬nh duyá»‡t**:
   - Puppeteer Stealth Ä‘Æ°á»£c cáº¥u hÃ¬nh Ä‘á»ƒ "giáº£ danh" trÃ¬nh duyá»‡t tháº­t, vÆ°á»£t qua cÃ¡c lá»›p báº£o vá»‡ cá»§a Facebook, TikTok hoáº·c YouTube Ä‘á»ƒ upload hoáº·c tÆ°Æ¡ng tÃ¡c.
   - Tá»± Ä‘á»™ng giáº£i Captcha qua OMO API ([omocaptcha_key.txt](file:///d:/15012026kinx-auto/omocaptcha_key.txt)).

## ğŸ“ Cáº¥u trÃºc Tá»‡p tin Quan trá»ng
... (giá»¯ nguyÃªn pháº§n cÅ©)
